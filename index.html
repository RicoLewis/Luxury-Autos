<html lang="en">
  
<head>
    <meta charset="UTF-8">
    <title>NT Luxury Autos</title>
  
    <!-- INCLUDING JQUERY-->
    <script src=
"https://code.jquery.com/jquery-3.5.1.js">
    </script>
	<script>
	const liste = [];
	$(document).ready(function () {
		$.getJSON("https://raw.githubusercontent.com/RicoLewis/Luxury-Autos/main/list.json", function (data) {
			var catalogue = '';
			var pattern = '';
			
	
			$.each(data, function (key, value) {
				$('#modeles').append("<option value=\""+value.nom+"\">");
				catalogue += '<tr' + ' id=\"' + value.nom +'\"' + '>';
				catalogue += '<td>' + value.nom + '</td>';
				catalogue += '<td>' + value.prix + '</td>';
				catalogue += '<td>' + value.page + '</td>';
				catalogue += '<td>' + value.cat + '</td>';
				catalogue += '</tr>';
				if (pattern == '') pattern += value.nom;
				else pattern += '|' + value.nom;
				liste.push(value.nom);
			});
			$('#table').append(catalogue);
			$("#selecNom").attr('pattern', pattern);
		});
    });

	$(document).keypress(
	function(event){
		if (event.which == '13') {
			event.preventDefault();
		}
	});
	
	function clear(){
		var selecNom = document.getElementById('selecNom');
		selecNom.value = '';
	}

	function recherche() {
		var selecNom = document.getElementById('selecNom');
		var table = document.getElementById('table');
		var error = document.querySelector('.error');
	
		if (selecNom.validity.valid){
			error.innerHTML = "";
			error.className = "error";
			var y = 0;
			for (var i in liste) {
				if (liste[i] != selecNom.value) {
					hideRow(liste[i]);
				}
				else showRow(liste[i]);
			}
		}
		else {
			error.innerHTML = "Sasie incorrecte!";
			error.className = "error active";
		}
		
	};
	
	function hideRow(id) {
      var row = document.getElementById(id);
      row.style.display = 'none';
    }
	function showRow(id) {
      var row = document.getElementById(id);
      row.style.display = '';
    }

	</script>
</head>
  
<body>
	
	<label for="selecNom">Recherche : </label>
	<input type="text" name="voitures" list="modeles" id="selecNom" title="Veuillez choisir un nom de voiture" required>
	<button onclick="document.getElementById('selecNom').value = ''">üóëÔ∏è</button>
	<button onclick="recherche()">Ok</button>
	<span class="error"></span>
	
	
	<datalist id="modeles">
	</datalist>
	
	
	<br><br><br>
	
	<table id='table'>
    <tr>
      <th>Nom</th>
      <th>Prix</th>
      <th>Page</th>
      <th>Categorie</th>
    </tr>
      
</body>
  
</html>
